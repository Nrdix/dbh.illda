<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Happy Birthday Desktop</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Tahoma", "Arial", sans-serif;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        background: linear-gradient(135deg, #0078d7 0%, #1e5fa4 100%);
        min-height: 100vh;
        overflow-x: hidden;
        padding-bottom: 40px;
      }

      /* LOADING ANIMATION */
      .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #0078d7 0%, #1e5fa4 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.3s ease-out;
      }

      .loading-overlay.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .loading-text {
        color: white;
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 20px;
        text-align: center;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        padding: 0 10px;
      }

      .loading-bar {
        width: 250px;
        height: 20px;
        background: #c0c0c0;
        border: 2px solid #000;
        border-radius: 0;
        overflow: hidden;
        box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .loading-progress {
        width: 0%;
        height: 100%;
        background: linear-gradient(90deg, #000080 0%, #1084d0 100%);
        transition: width 1s ease-in-out;
      }

      .loading-dots {
        margin-top: 15px;
        color: white;
        font-size: 12px;
      }

      .loading-dots span {
        opacity: 0;
        animation: loadingDots 1.5s infinite;
      }

      .loading-dots span:nth-child(1) {
        animation-delay: 0s;
      }
      .loading-dots span:nth-child(2) {
        animation-delay: 0.2s;
      }
      .loading-dots span:nth-child(3) {
        animation-delay: 0.4s;
      }

      @keyframes loadingDots {
        0%,
        100% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
      }

      /* MUSIC CONTROL */
      .music-control {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 100;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 20px;
        padding: 5px 10px;
        display: flex;
        align-items: center;
        gap: 8px;
        color: white;
        font-size: 11px;
      }

      .music-btn {
        background: none;
        border: none;
        color: white;
        font-size: 16px;
        cursor: pointer;
        width: 25px;
        height: 25px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
      }

      .music-btn:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* DESKTOP ICONS */
      .desktop {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        padding: 20px 15px;
        max-width: 500px;
        margin: 0 auto;
        opacity: 0;
        animation: fadeInUp 0.5s ease-out 1s forwards;
      }

      .desktop-icon {
        text-align: center;
        color: white;
        padding: 15px 8px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(5px);
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 120px;
        opacity: 0;
        transform: scale(0.9);
      }

      .desktop-icon:nth-child(1) {
        animation: iconPop 0.4s ease-out 1.2s forwards;
      }
      .desktop-icon:nth-child(2) {
        animation: iconPop 0.4s ease-out 1.4s forwards;
      }
      .desktop-icon:nth-child(3) {
        animation: iconPop 0.4s ease-out 1.6s forwards;
      }

      .desktop-icon:active {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(0.98);
      }

      .icon-box {
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 8px;
        font-weight: bold;
        border-radius: 5px;
        font-size: 24px;
      }

      .desktop-icon span {
        font-size: 12px;
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        display: block;
        margin-top: 5px;
      }

      /* WINDOWS */
      .window {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.9);
        width: 90%;
        max-width: 350px;
        max-height: 70vh;
        background: #c0c0c0;
        border: 2px solid #000;
        border-radius: 0;
        box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.3);
        display: none;
        flex-direction: column;
        z-index: 1000;
        opacity: 0;
        transition: all 0.3s ease-out;
      }

      .window.active {
        display: flex;
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }

      .window-header {
        background: linear-gradient(90deg, #000080 0%, #1084d0 100%);
        color: white;
        padding: 8px 12px;
        font-weight: bold;
        font-size: 13px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #000;
        user-select: none;
      }

      .window-close {
        background: #c0c0c0;
        border: 1px solid #000;
        width: 18px;
        height: 18px;
        font-size: 11px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .window-content {
        padding: 15px;
        flex: 1;
        overflow-y: auto;
        background: #ffffff;
        font-size: 13px;
      }

      /* PRESENTER */
      .presenter-content {
        text-align: center;
      }

      .presenter-content h1 {
        color: #000080;
        margin-bottom: 10px;
        font-size: 18px;
      }

      .birthday-message {
        background: #ffffcc;
        border: 1px solid #ccc;
        padding: 12px;
        margin: 12px 0;
        border-radius: 5px;
        font-size: 12.5px;
        line-height: 1.5;
        text-align: left;
        max-height: 300px;
        overflow-y: auto;
      }

      .birthday-message p {
        margin-bottom: 12px;
        text-align: justify;
      }

      .presenter-nav {
        display: flex;
        justify-content: space-between;
        margin-top: 12px;
        gap: 10px;
      }

      .nav-btn {
        background: #c0c0c0;
        border: 2px solid #808080;
        padding: 6px 12px;
        font-weight: bold;
        cursor: pointer;
        font-size: 11px;
        flex: 1;
      }

      /* CAKE IMPROVED */
      .cake-container {
        text-align: center;
        position: relative;
      }

      .cake-image {
        width: 200px;
        height: 200px;
        margin: 0 auto 12px;
        background: #fff;
        border: 2px solid #ccc;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 5px;
        position: relative;
        overflow: hidden;
      }

      .cake-base {
        width: 160px;
        height: 80px;
        background: linear-gradient(135deg, #f8c291 0%, #e58e26 100%);
        border-radius: 10px 10px 0 0;
        position: relative;
        margin-top: 40px;
      }

      .cake-layer {
        width: 180px;
        height: 30px;
        background: linear-gradient(135deg, #ff9ff3 0%, #f368e0 100%);
        border-radius: 10px;
        position: absolute;
        top: 20px;
        left: 10px;
      }

      .cake-icing {
        width: 190px;
        height: 20px;
        background: linear-gradient(135deg, #ffcccc 0%, #ff9999 100%);
        border-radius: 50%;
        position: absolute;
        top: 10px;
        left: 5px;
      }

      /* CANDLES */
      .candles {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 10px;
      }

      .candle {
        width: 12px;
        height: 40px;
        background: linear-gradient(180deg, #ff9f43 0%, #ff6b6b 100%);
        border-radius: 6px;
        position: relative;
        transition: all 0.5s ease;
      }

      .candle:before {
        content: "";
        position: absolute;
        top: -5px;
        left: 50%;
        transform: translateX(-50%);
        width: 14px;
        height: 5px;
        background: #ff9f43;
        border-radius: 50%;
      }

      .flame {
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 15px;
        height: 25px;
        background: linear-gradient(180deg, #ff9f43 0%, #ff6b6b 100%);
        border-radius: 50% 50% 20% 20%;
        animation: flicker 0.8s infinite alternate;
        box-shadow: 0 0 20px #ff9f43;
        transition: all 0.3s ease;
      }

      .flame:after {
        content: "";
        position: absolute;
        top: 5px;
        left: 50%;
        transform: translateX(-50%);
        width: 8px;
        height: 10px;
        background: #ffd700;
        border-radius: 50%;
      }

      .candle.blown .flame {
        animation: none;
        opacity: 0;
        transform: translateX(-50%) scale(0);
      }

      .candle.blown:after {
        content: "ðŸ’¨";
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        animation: smoke 1s ease-out forwards;
        z-index: 10;
      }

      /* ANIMATIONS */
      @keyframes flicker {
        0%,
        100% {
          transform: translateX(-50%) scaleY(1) scaleX(1);
        }
        50% {
          transform: translateX(-50%) scaleY(1.1) scaleX(0.9);
        }
      }

      @keyframes smoke {
        0% {
          opacity: 1;
          transform: translateX(-50%) translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) translateY(-30px);
        }
      }

      @keyframes fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100px) rotate(360deg);
          opacity: 0;
        }
      }

      .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        opacity: 0;
      }

      .confetti:nth-child(1) {
        background: #ff6b6b;
        top: 20%;
        left: 20%;
      }
      .confetti:nth-child(2) {
        background: #4ecdc4;
        top: 30%;
        left: 40%;
      }
      .confetti:nth-child(3) {
        background: #ffd166;
        top: 10%;
        left: 60%;
      }
      .confetti:nth-child(4) {
        background: #06d6a0;
        top: 40%;
        left: 80%;
      }
      .confetti:nth-child(5) {
        background: #118ab2;
        top: 50%;
        left: 30%;
      }
      .confetti:nth-child(6) {
        background: #ef476f;
        top: 60%;
        left: 70%;
      }

      .blow-btn {
        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
        color: white;
        border: none;
        padding: 12px 25px;
        font-size: 14px;
        font-weight: bold;
        border-radius: 25px;
        cursor: pointer;
        margin: 8px 0;
        width: 100%;
        box-shadow: 0 4px 0 #cc4c4c;
        transition: all 0.2s;
        position: relative;
        overflow: hidden;
      }

      .blow-btn:active {
        transform: translateY(4px);
        box-shadow: 0 0 0 #cc4c4c;
      }

      .blow-btn:after {
        content: "ðŸ’¨";
        position: absolute;
        right: 20px;
        font-size: 18px;
      }

      .celebration {
        color: #ff6b6b;
        font-weight: bold;
        font-size: 18px;
        margin: 15px 0;
        display: none;
        animation: celebratePop 0.5s ease-out;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      @keyframes celebratePop {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        70% {
          transform: scale(1.1);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      /* GALLERY TABS */
      .tabs {
        display: flex;
        margin-bottom: 15px;
        border-bottom: 2px solid #808080;
      }

      .tab-btn {
        flex: 1;
        padding: 8px;
        background: #c0c0c0;
        border: 2px solid #808080;
        border-bottom: none;
        font-weight: bold;
        cursor: pointer;
        font-size: 12px;
        text-align: center;
      }

      .tab-btn.active {
        background: #ffffff;
        position: relative;
        top: 2px;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* GALLERY CONTENT */
      .slideshow-container {
        position: relative;
        height: 200px;
        margin-bottom: 12px;
      }

      .slide {
        display: none;
        text-align: center;
      }

      .slide.active {
        display: block;
      }

      .photo-frame {
        width: 180px;
        height: 180px;
        margin: 0 auto;
        background: #e0e0e0;
        border: 2px solid #808080;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .photo-frame img,
      .photo-frame video {
        max-width: 100%;
        max-height: 100%;
        object-fit: cover;
      }

      .photo-label {
        margin-top: 8px;
        font-weight: bold;
        color: #000080;
        font-size: 13px;
      }

      .gallery-nav {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin: 10px 0;
      }

      .gallery-nav .nav-btn {
        background: #c0c0c0;
        border: 2px solid #808080;
        padding: 6px 10px;
        font-size: 11px;
        font-weight: bold;
        cursor: pointer;
        min-width: 80px;
      }

      /* OVERLAY */
      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        display: none;
        z-index: 999;
      }

      .overlay.active {
        display: block;
      }

      /* TASKBAR */
      .taskbar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #c0c0c0;
        border-top: 2px solid #000;
        padding: 5px 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 2000;
        opacity: 0;
        animation: fadeIn 0.5s ease-out 1.6s forwards;
      }

      .start-btn {
        background: #00a800;
        color: white;
        border: 2px solid #000;
        padding: 4px 12px;
        font-weight: bold;
        font-size: 12px;
        cursor: pointer;
      }

      .clock {
        font-size: 11px;
        font-weight: bold;
      }

      /* ANIMATIONS */
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes iconPop {
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }

      /* RESPONSIVE */
      @media (max-width: 480px) {
        .desktop {
          gap: 12px;
          padding: 15px 10px;
        }

        .icon-box {
          width: 50px;
          height: 50px;
          font-size: 20px;
        }

        .desktop-icon {
          padding: 12px 6px;
          min-height: 110px;
        }

        .window {
          width: 95%;
          max-height: 65vh;
        }

        .birthday-message {
          max-height: 250px;
          font-size: 12px;
        }

        .cake-image {
          width: 180px;
          height: 180px;
        }

        .candles {
          gap: 20px;
        }
      }

      @media (max-width: 360px) {
        .desktop {
          grid-template-columns: 1fr 1fr;
        }

        .desktop-icon span {
          font-size: 11px;
        }

        .candles {
          gap: 15px;
        }
      }
    </style>
  </head>
  <body>
    <!-- LOADING SCREEN -->
    <div class="loading-overlay" id="loadingScreen">
      <div class="loading-text">HABEDEE ADILL'A</div>
      <div class="loading-bar">
        <div class="loading-progress" id="loadingProgress"></div>
      </div>
      <div class="loading-dots">
        Loading<span>.</span><span>.</span><span>.</span>
      </div>
    </div>

    <!-- MUSIC CONTROL -->
    <div class="music-control" id="musicControl">
      <button class="music-btn" onclick="toggleMusic()" id="musicToggle">
        â™ª
      </button>
      <span id="musicTitle"></span>
    </div>

    <!-- DESKTOP ICONS -->
    <div class="desktop">
      <div class="desktop-icon" onclick="openWindow('presenter')">
        <div class="icon-box" style="background: #ff6b6b; color: white">
          TXT
        </div>
        <span>presenter.exe</span>
      </div>

      <div class="desktop-icon" onclick="openWindow('cake')">
        <div class="icon-box" style="background: #ffd166; color: white">ðŸŽ‚</div>
        <span>cake.exe</span>
      </div>

      <div class="desktop-icon" onclick="openWindow('gallery')">
        <div class="icon-box" style="background: #06d6a0; color: white">ðŸ“·</div>
        <span>gallery.jpg</span>
      </div>
    </div>

    <!-- WINDOWS -->
    <!-- PRESENTER WINDOW -->
    <div class="window" id="presenter-window">
      <div class="window-header">
        <span>Presenter.exe</span>
        <button class="window-close" onclick="closeWindow('presenter')">
          X
        </button>
      </div>
      <div class="window-content">
        <div class="presenter-content">
          <h1>In Eng HBD, In Indo</h1>
          <div class="birthday-message">
            <p>Selamat ulang tahun.</p>

            <p>
              Mau dengan semoga-semoga dariku? Tidak, aku tidak akan menyebutkan
              semoga panjang umur dan sehat selalu. Namun, aku ingin memanjatkan
              semoga-semoga yang remeh, yang mungkin belum kamu dengar
              sebelumnya dan mungkin saja bisa menerbitkan senyum kamu. Jadi,
              jangan lupa diaminkan, ya?
            </p>

            <p>
              Semoga bantalmu selalu empuk dan selimutmu selalu hangat menjelang
              waktu tidurmu di tengah dinginnya malam. Semoga matahari tidak
              bersinar terlalu terik ketika kamu sedang memakai baju berwarna
              gelap. Semoga alarm kamu selalu berbunyi tepat pada waktunya.
            </p>

            <p>
              Semoga kendaraan umum yang kamu tumpangi kala terburu-buru tidak
              datang terlambat dan melaju cepat. Semoga kamu selalu menemukan
              alasan untuk tersenyum barang sedikit di antara hari-hari
              terpurukmu. Semoga kamu selalu berada di tengah lingkungan baik
              yang di dalamnya bernaung orang-orang baik, serta didatangkan
              segala hal-hal baik.
            </p>

            <p>
              Semoga kamu selalu merasa bahwa dirimu cukup. Semoga kamu tidak
              merasa rendah akan dirimu. Semoga kamu mencintai dirimu lebih
              banyak pada tiap-tiap hari. Semoga kamu tidak merasa bahwa dirimu
              tidak layak dicinta. Semoga kamu mencintai dirimu dengan sepenuh
              hati.
            </p>

            <p>
              Semoga jalan-jalan yang kamu temui ke depan adalah jalan yang
              mulus dan lancar. Semoga bahagia melekat padamu layaknya jaket
              kulit yang kamu pakai untuk berkendara. Semoga kemudahan mau
              sering-sering mampir ke rumah kamu untuk bertamu.
            </p>

            <p>
              Semoga lama hidupmu di dunia, supaya lebih banyak waktu untuk
              melakukan daftar hal-hal yang belum kamu coba dan lakukan. Semoga
              segala ingin yang tidak kunjung memunculkan eksistensinya, akan
              segera muncul pada usia barumu ini. Semoga segala hal buruk itu
              jadi musuh yang tidak akan mendekat ke ranah kamu. Semoga binarmu
              tetap terpampang jelas. Semoga senyummu tidak kunjung pudar.
              Semoga suara tawamu tetap selalu mengudara.
            </p>

            <p>
              Selamat sekali lagi, ya. Selamat karena tetap berdiri meski
              setahun belakangan penuh dengan hari-hari yang tidak mudah.
              Selamat sudah membangun kembali dari jatuh. Selamat karena telah
              menutup telinga dari omongan-omongan tidak baik dan dari segala
              pikiran buruk yang berisik di kepala. Selamat karena telah
              berhasil membalikkan halaman terbaru di buku hidupmu.
            </p>

            <p>
              Semoga tahun ini bukan hanya sekedar pengulangan dari yang lalu
              atau putaran waktu yang sama tanpa arah baru, semoga tahun ini
              menjadi tahun emas dari ke emasan diri kamu yang lalu dan diterima
              di institut impianmu, jarum jam mungkin berdetak dengan lagu yang
              sama, fajar pun slalu membuka tirai dari sisi yang sama. namun
              diluar ritme yang berulang itu, semesta membuka jalannya untukmu
              dan langkahmu tak lagi tersesat, percayalah tahun ini akan menjadi
              tahunmu.
            </p>

            <p>"selamat mengulang hari lahir, serta mulia manusia tercinta"</p>
          </div>
          <div class="presenter-nav">
            <button class="nav-btn" onclick="scrollMessage(-100)">
              â†‘ Scroll Up
            </button>
            <button class="nav-btn" onclick="scrollMessage(100)">
              â†“ Scroll Down
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- CAKE WINDOW -->
    <div class="window" id="cake-window">
      <div class="window-header">
        <span>Cake.exe</span>
        <button class="window-close" onclick="closeWindow('cake')">X</button>
      </div>
      <div class="window-content">
        <div class="cake-container">
          <div class="birthday-message" style="text-align: center">
            jangan lupa berdoa duluuu...
          </div>

          <div class="cake-image">
            <!-- Cake Base -->
            <div class="cake-base"></div>
            <div class="cake-layer"></div>
            <div class="cake-icing"></div>

            <!-- Candles -->
            <div class="candles" id="candles">
              <div class="candle" id="candle1">
                <div class="flame"></div>
              </div>
              <div class="candle" id="candle2">
                <div class="flame"></div>
              </div>
              <div class="candle" id="candle3">
                <div class="flame"></div>
              </div>
              <div class="candle" id="candle4">
                <div class="flame"></div>
              </div>
              <div class="candle" id="candle5">
                <div class="flame"></div>
              </div>
            </div>

            <!-- Confetti -->
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
            <div class="confetti"></div>
          </div>

          <button class="blow-btn" onclick="blowCandle()" id="blowBtn">
            <span id="btnText">ðŸŽ‚ TIUP LILIN ðŸŽ‚</span>
          </button>

          <div class="celebration" id="celebration">
            ðŸŽ‰ YEAY! HAPPY BIRTHDAY! ðŸŽ‰
          </div>

          <div
            style="
              margin-top: 10px;
              font-size: 11px;
              color: #666;
              text-align: center;
            "
          >
            Klik tombol untuk meniup lilin!
          </div>
        </div>
      </div>
    </div>

    <!-- GALLERY WINDOW -->
    <div class="window" id="gallery-window">
      <div class="window-header">
        <span>Gallery.jpg</span>
        <button class="window-close" onclick="closeWindow('gallery')">X</button>
      </div>
      <div class="window-content">
        <div style="text-align: center; margin-bottom: 15px">
          <h1 style="color: #000080; font-size: 16px; margin-bottom: 5px">
            MEMORY ARCHIVE
          </h1>
          <p style="font-weight: bold; margin-bottom: 15px">Foto & Video</p>
        </div>

        <!-- Tabs -->
        <div class="tabs">
          <button class="tab-btn active" onclick="switchTab('foto')">
            ðŸ“¸ FOTO
          </button>
          <button class="tab-btn" onclick="switchTab('video')">ðŸŽ¬ VIDEO</button>
        </div>

        <!-- Foto Tab -->
        <div class="tab-content active" id="foto-tab">
          <div class="slideshow-container" id="foto-slideshow">
            <!-- Foto slides will be generated by JavaScript -->
          </div>
          <div class="gallery-nav">
            <button class="nav-btn" onclick="prevFoto()">
              &lt; Sebelumnya
            </button>
            <button class="nav-btn" onclick="nextFoto()">
              Berikutnya &gt;
            </button>
          </div>
          <div style="margin-top: 12px; font-size: 11px; color: #666"></div>
        </div>

        <!-- Video Tab -->
        <div class="tab-content" id="video-tab">
          <div class="slideshow-container" id="video-slideshow">
            <!-- Video slides will be generated by JavaScript -->
          </div>
          <div class="gallery-nav">
            <button class="nav-btn" onclick="prevVideo()">
              &lt; Sebelumnya
            </button>
            <button class="nav-btn" onclick="nextVideo()">
              Berikutnya &gt;
            </button>
          </div>
          <div style="margin-top: 12px; font-size: 11px; color: #666">
            MEMORIES ðŸŽ¥
          </div>
        </div>
      </div>
    </div>

    <!-- OVERLAY -->
    <div class="overlay" id="overlay" onclick="closeAllWindows()"></div>

    <!-- TASKBAR -->
    <div class="taskbar">
      <button class="start-btn" onclick="alert('ðŸŽ‰ Happy Birthday! ðŸŽ‚')">
        Start
      </button>
      <div class="clock" id="clock">00:00</div>
    </div>

    <script>
      // =================== SOLUSI 100% WORK ===================
      // Audio Background
      let backgroundMusic;
      let isMusicPlaying = false;

      // Music Control
      function toggleMusic() {
        if (!backgroundMusic) {
          backgroundMusic = new Audio("musik/nadin.mp3");
          backgroundMusic.loop = true;
          backgroundMusic.volume = 0.5;
        }

        if (!isMusicPlaying) {
          // Coba play musik
          const playPromise = backgroundMusic.play();

          if (playPromise !== undefined) {
            playPromise
              .then(() => {
                isMusicPlaying = true;
                document.getElementById("musicToggle").textContent = "â™ª";
                document.getElementById("musicTitle").textContent =
                  "Now Playing...";
              })
              .catch((error) => {
                console.log("Play failed:", error);
                // Fallback
                alert("Klik OK untuk mulai musik!");
                backgroundMusic.play();
                isMusicPlaying = true;
                document.getElementById("musicToggle").textContent = "â™ª";
              });
          }
        } else {
          backgroundMusic.pause();
          document.getElementById("musicToggle").textContent = "ðŸ”‡";
          isMusicPlaying = false;
        }
      }

      // Window Management
      function openWindow(app) {
        closeAllWindows();
        document.getElementById("overlay").classList.add("active");
        document.getElementById(app + "-window").classList.add("active");
      }

      function closeWindow(app) {
        document.getElementById("overlay").classList.remove("active");
        document.getElementById(app + "-window").classList.remove("active");
      }

      function closeAllWindows() {
        document.getElementById("overlay").classList.remove("active");
        const windows = document.querySelectorAll(".window");
        windows.forEach((window) => window.classList.remove("active"));
      }

      // Presenter Scroll
      function scrollMessage(amount) {
        const message = document.querySelector(".birthday-message");
        message.scrollTop += amount;
      }

      // Cake Interaction dengan animasi keren
      function blowCandle() {
        const blowBtn = document.getElementById("blowBtn");
        const btnText = document.getElementById("btnText");
        const celebration = document.getElementById("celebration");
        const candles = document.querySelectorAll(".candle");

        // Disable button selama animasi
        blowBtn.disabled = true;

        // Animasi tombol ditekan
        blowBtn.style.transform = "scale(0.95)";
        blowBtn.style.boxShadow = "0 2px 0 #cc4c4c";

        // Sound effect tiup lilin
        const blowSound = new Audio(
          "https://assets.mixkit.co/sfx/preview/mixkit-candle-blow-738.mp3"
        );
        blowSound.volume = 0.3;
        blowSound.play().catch((e) => console.log("Sound autoplay blocked"));

        // Tiup lilin satu per satu dengan delay
        candles.forEach((candle, index) => {
          setTimeout(() => {
            candle.classList.add("blown");

            // Tambahkan efek asap
            const smoke = document.createElement("div");
            smoke.innerHTML = "ðŸ’¨";
            smoke.style.position = "absolute";
            smoke.style.top = "-25px";
            smoke.style.left = "50%";
            smoke.style.transform = "translateX(-50%)";
            smoke.style.fontSize = "20px";
            smoke.style.opacity = "0.7";
            smoke.style.zIndex = "100";
            smoke.style.animation = "smoke 1s ease-out forwards";
            candle.appendChild(smoke);

            // Hapus asap setelah animasi
            setTimeout(() => {
              if (smoke.parentNode) {
                smoke.remove();
              }
            }, 1000);
          }, index * 300); // Delay antar lilin
        });

        // Setelah semua lilin ditiup
        setTimeout(() => {
          // Ganti text tombol
          btnText.innerHTML = "ðŸŽ‰ LILIN SUDAH DITIUP! ðŸŽ‰";
          blowBtn.style.background =
            "linear-gradient(135deg, #ff9900 0%, #ff6b00 100%)";
          blowBtn.style.boxShadow = "0 4px 0 #cc7a00";

          // Tampilkan celebration
          celebration.style.display = "block";

          // Animasi confetti
          const confetti = document.querySelectorAll(".confetti");
          confetti.forEach((piece, index) => {
            piece.style.animation = `fall ${
              Math.random() * 0.5 + 0.5
            }s ease-out forwards`;
            piece.style.animationDelay = `${index * 0.1}s`;
          });

          // Sound effect celebration
          setTimeout(() => {
            const cheerSound = new Audio(
              "https://assets.mixkit.co/sfx/preview/mixkit-happy-crowd-laugh-464.mp3"
            );
            cheerSound.volume = 0.3;
            cheerSound.play().catch((e) => console.log("Cheer sound blocked"));
          }, 1500);

          // Reset tombol
          setTimeout(() => {
            blowBtn.style.transform = "scale(1)";
          }, 500);
        }, candles.length * 300 + 500);
      }

      // Gallery Tabs
      function switchTab(tabName) {
        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelectorAll(".tab-content")
          .forEach((content) => content.classList.remove("active"));

        event.target.classList.add("active");
        document.getElementById(tabName + "-tab").classList.add("active");

        if (tabName === "foto") {
          showFoto(currentFotoIndex);
        } else {
          showVideo(currentVideoIndex);
        }
      }

      // Foto Gallery (8 foto)
      const fotoFiles = [
        "1.jpg",
        "2.png",
        "3.png",
        "4.png",
        "5.png",
        "6.png",
        "7.jpg",
        "8.png",
        "9.png",
        "10.png",
        "11.png",
      ];
      let currentFotoIndex = 0;

      function initFotoSlideshow() {
        const container = document.getElementById("foto-slideshow");
        container.innerHTML = "";

        fotoFiles.forEach((foto, index) => {
          const slide = document.createElement("div");
          slide.className = "slide" + (index === 0 ? " active" : "");
          slide.innerHTML = `
                <div class="photo-frame">
                    <img src="${foto}" alt="Foto ${index + 1}" 
                         onerror="this.onerror=null; this.style.display='none'; this.parentElement.innerHTML='Foto ${
                           index + 1
                         }'">
                </div>
                <div class="photo-label">Foto ${index + 1}</div>
            `;
          container.appendChild(slide);
        });
      }

      function showFoto(index) {
        const slides = document.querySelectorAll("#foto-slideshow .slide");
        slides.forEach((slide) => slide.classList.remove("active"));
        if (slides[index]) slides[index].classList.add("active");
      }

      function nextFoto() {
        currentFotoIndex = (currentFotoIndex + 1) % fotoFiles.length;
        showFoto(currentFotoIndex);
      }

      function prevFoto() {
        currentFotoIndex =
          (currentFotoIndex - 1 + fotoFiles.length) % fotoFiles.length;
        showFoto(currentFotoIndex);
      }

      // Video Gallery (3 video)
      const videoFiles = [
        "1.mp4",
        "2.mp4",
        "3.mp4",
        "4.mp4",
        "5.mp4",
      ];
      let currentVideoIndex = 0;

      function initVideoSlideshow() {
        const container = document.getElementById("video-slideshow");
        container.innerHTML = "";

        videoFiles.forEach((video, index) => {
          const slide = document.createElement("div");
          slide.className = "slide" + (index === 0 ? " active" : "");
          slide.innerHTML = `
                <div class="photo-frame">
                    <video controls onerror="this.onerror=null; this.style.display='none'; this.parentElement.innerHTML='Video ${
                      index + 1
                    }'">
                        <source src="${video}" type="video/mp4">
                        Browser tidak mendukung video.
                    </video>
                </div>
                <div class="photo-label">Video ${index + 1}</div>
            `;
          container.appendChild(slide);
        });
      }

      function showVideo(index) {
        const slides = document.querySelectorAll("#video-slideshow .slide");
        slides.forEach((slide) => slide.classList.remove("active"));
        if (slides[index]) slides[index].classList.add("active");
      }

      function nextVideo() {
        currentVideoIndex = (currentVideoIndex + 1) % videoFiles.length;
        showVideo(currentVideoIndex);
      }

      function prevVideo() {
        currentVideoIndex =
          (currentVideoIndex - 1 + videoFiles.length) % videoFiles.length;
        showVideo(currentVideoIndex);
      }

      // Clock
      function updateClock() {
        const now = new Date();
        const timeString =
          now.getHours().toString().padStart(2, "0") +
          ":" +
          now.getMinutes().toString().padStart(2, "0");
        document.getElementById("clock").textContent = timeString;
      }

      // =================== LOADING DENGAN AUTO MUSIK ===================
      window.addEventListener("load", function () {
        const loadingScreen = document.getElementById("loadingScreen");
        const loadingProgress = document.getElementById("loadingProgress");

        // Animate progress bar
        setTimeout(() => {
          loadingProgress.style.width = "30%";
        }, 300);
        setTimeout(() => {
          loadingProgress.style.width = "60%";
        }, 600);
        setTimeout(() => {
          loadingProgress.style.width = "90%";
        }, 900);
        setTimeout(() => {
          loadingProgress.style.width = "100%";
        }, 1200);

        // Setelah loading selesai
        setTimeout(() => {
          // Ganti loading dengan tombol start besar
          loadingScreen.innerHTML = `
                <div style="text-align: center; color: white; padding: 40px 20px;">
                    <h1 style="font-size: 28px; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                        ðŸŽ‚ HAPPY BIRTHDAY ADILL'A! ðŸŽ‚
                    </h1>
                    <button id="startPartyBtn" style="
                        background: linear-gradient(135deg, #ff6b6b 0%, #ff4444 100%);
                        color: white;
                        border: none;
                        padding: 25px 50px;
                        font-size: 22px;
                        font-weight: bold;
                        border-radius: 50px;
                        cursor: pointer;
                        box-shadow: 0 6px 0 #cc3333;
                        transition: all 0.2s;
                        margin: 20px 0;
                    ">
                        ðŸŽµ KLIK DULU TOMBOL INI KAK! ðŸŽµ
                    </button>
                </div>
            `;

          // Tambahkan event untuk tombol start
          setTimeout(() => {
            const startBtn = document.getElementById("startPartyBtn");

            startBtn.onclick = function () {
              // Inisialisasi musik
              if (!backgroundMusic) {
                backgroundMusic = new Audio("nadin.mp3");
                backgroundMusic.loop = true;
                backgroundMusic.volume = 0.5;
              }

              // Play musik - INI AKAN WORK 100% KARENA USER SUDAH KLIK
              backgroundMusic
                .play()
                .then(() => {
                  console.log("ðŸŽµ Music autoplay SUCCESS after user click!");
                  isMusicPlaying = true;
                  document.getElementById("musicToggle").textContent = "â™ª";
                  document.getElementById("musicTitle").textContent = "";

                  // Sembunyikan loading
                  loadingScreen.classList.add("hidden");

                  // Tampilkan pesan welcome
                  setTimeout(() => {}, 500);
                })
                .catch((e) => {
                  console.log("Music play failed:", e);
                  loadingScreen.classList.add("hidden");
                  alert("Klik tombol musik di pojok kanan atas untuk mulai!");
                });

              // Initialize gallery
              initFotoSlideshow();
              initVideoSlideshow();
            };

            // Juga beri event click ke seluruh loading screen
            loadingScreen.onclick = function (e) {
              if (e.target.id !== "startPartyBtn") {
                startBtn.click();
              }
            };
          }, 100);
        }, 1300);
      });

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        updateClock();
        setInterval(updateClock, 60000);
      });

      // Touch optimization
      document.addEventListener("touchstart", function () {}, {
        passive: true,
      });
    </script>
  </body>
</html>

